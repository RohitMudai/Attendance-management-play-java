@(content: String)

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>Dashboard</title>

            <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity=""
        crossorigin="anonymous">

        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"
        crossorigin="anonymous"/>
            <!-- Our Custom CSS -->
        <link href='@routes.Assets.versioned("stylesheets/dashboard.css")' rel="stylesheet" type="text/css"/>

            <!-- Font Awesome JS -->
        <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity=""
        crossorigin="anonymous"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity=""
        crossorigin="anonymous"></script>


        <script src="https://code.highcharts.com/highcharts.js"></script>

    </head>

    <body>

        <div class="wrapper">
                <!-- Sidebar Holder -->
            <nav id="sidebar">
                <div class="sidebar-header">
                        <!-- <h3>Logo</h3>-->
                    <img src='@routes.Assets.versioned("images/logo.png")' rel="images" type="image " alt="Nexxo"/>
                    <p>@content</p>
                </div>

                <ul class="list-unstyled components">

                    <li class="active">
                        <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                            Home</a>
                        <ul class="collapse list-unstyled" id="homeSubmenu">
                            <li>
                                <a onclick="getHtml('/profile')">profile</a>
                            </li>
                        </ul>
                            <!--<li>
                    <a href="#">Home 2</a>
                </li>
                <li>
                    <a href="#">Home 3</a>
                </li>
            </ul>-->
                    </li>
                    <li class="active">
                        <a href="#">About</a>
                        <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                            Reports</a>
                        <ul class="collapse list-unstyled" id="pageSubmenu">
                            <li>
                                <a id="load">User Login Reports</a>
                            </li>
                            <li>
                                <a id="attendancereports">Attendance Details</a>
                            </li>
                            <li>
                                <a onclick="topGenre()">Top Genre</a>
                            </li>
                            <li>
                                <a onclick="topProduction()">Top Production</a>
                            </li>
                            <li>
                                <a onclick="chart1()">Top genre chart</a>
                            </li>
                                <!-- </ul>
                 </li>
                 <li>
                     <a href="#">Portfolio</a>
                 </li>
                 <li>
                     <a href="#">Contact</a>
                 </li>
             </ul>-->

                                <!-- <ul class="list-unstyled CTAs">
                        <li>
                            <a href="https://bootstrapious.com/tutorial/files/sidebar.zip" class="download">Download source</a>
                        </li>
                        <li>
                            <a href="https://bootstrapious.com/p/bootstrap-sidebar" class="article">Back to article</a>
                        </li>
                    </ul> -->
            </nav>

                <!-- Page Content Holder -->
            <div id="content">

                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="container-fluid">

                        <button type="button" id="sidebarCollapse" class="navbar-btn">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>
                        <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                            <i class="fas fa-align-justify"></i>
                        </button>

                            <!--<div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Page</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Page</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Page</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Page</a>
                        </li>
                    </ul>
                </div>-->

                            <!-- <button class="btn btn-primary" onclick="window.location.href='/attendance'">Attendance</button>-->
                        <button class="btn btn-primary" onclick=getHtml("/attendance")>Attendance</button>
                        <button class="btn btn-primary" onclick="window.location.href = '/loggingout'">LogOut</button>
                    </div>
                </nav>


                    <!--<h2>Add your table here</h2>-->
                <div id="attend" class="tabless"></div>
                <div id="maincontent">

                    <div class="row" class="tabless">
                        <div class="col-lg-12">
                            <div id="myhtml" class="tabless"></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div id="userreportsTable" class="tabless" style="display: none;">
                                <table id="userreports" class="table table-striped table-bordered" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>First_Name</th>
                                            <th>Last_Name</th>
                                            <th>Phone_No.</th>
                                            <th>Email_Id</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div id="attendanceTable" class="tabless" style="display: none;">
                                <table id="attendance" class="table table-striped table-bordered" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>CheckIn Time</th>
                                            <th>Checkout Time</th>
                                            <th>Emp_Id</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-12">
                            <div id="topGenreTable" class="tabless" style="display: none;">
                                <h3 align="center">Top 10 Earning Genres of All Time </h3>
                                <table id="topGenre" class="table table-striped table-bordered" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>Genre</th>
                                            <th>Total Movies</th>
                                            <th>Total Earning</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div id="topProductiontable" class="tabless" style="display: none;">
                                <h3 align="center">Top 10 Production Co. of All Time </h3>
                                <table id="topProduction" class="table table-striped table-bordered" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>Production Company</th>
                                            <th>Total Gross($)</th>
                                            <th>Total Earning($)</th>
                                        </tr>
                                    </thead>
                                    <tbody style="cursor: pointer">
                                        <tr>
                                            <td onclick="getProductionDetails()"></td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-12">
                            <div id="topmoviesofproduction" class="tabless" style="display: none;">
                                <h3 align="center" id="topmovies"></h3>
                                <table id="topproductionmovietable" class="table table-striped table-bordered"
                                style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>Movies</th>
                                            <th>Total Gross($)</th>
                                            <th>Released</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-12">
                            <div id="chart1" class="tabless" style="display: none;">
                                <div id="genrechart" style="width: 100%;
                                    height: 400px;"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

                <!-- jQuery CDN - Slim version (=without AJAX) -->
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>


                <!-- Popper.JS -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity=""
            crossorigin="anonymous"></script>
                <!-- Bootstrap JS -->
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity=""
            crossorigin="anonymous"></script>
            <script src='https://code.jquery.com/jquery-3.3.1.js' type="text/javascript"></script>
            <script src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js' type="text/javascript"></script>


            <script type="text/javascript">
                    $(document).ready(function () {

                        $('#sidebarCollapse').on('click', function () {
                            $('#sidebar').toggleClass('active');
                            $(this).toggleClass('active');
                        });

                        $("#load").click(function () {

                            load();
                        });
                        $("#attendancereports").click(function () {

                            attendanceFunction();
                        });

                    });

                    function load() {

                        $(".tabless").hide();
                        $("#userreportsTable").show();
                        // alert("The paragraph was clicked.");
                        $.ajax(
                                {
                                    url: "/logindb",
                                    type: "GET",
                                    dataType: "json",
                                    //data: data,
                                    success: function (data) {

                                        console.log(data);
                                        //  $("#userreports").html(content);
                                        $("#userreports").dataTable({
                                            // paging: false,
                                            retrieve: true,
                                            // searching: false,
                                            destroy: true,
                                            // "bPaginate": false,
                                            data: data,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                                {'data': 4},
                                            ]
                                        });
                                    }
                                });
                    }

                    function attendanceFunction() {
                        $(".tabless").hide();
                        $("#attendanceTable").show();
                        // alert("The paragraph was clicked.");
                        $.ajax(
                                {
                                    url: "/attendreports",
                                    type: "GET",
                                    dataType: "json",
                                    //data: data,
                                    success: function (dataattend) {
                                        console.log(dataattend);
                                        //$("#userreports").html(content);
                                        $("#attendance").dataTable({
                                            //paging: false,
                                            retrieve: true,
                                            //  searching: false,
                                            destroy: true,
                                            //"bPaginate": false,
                                            data: dataattend,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                                {'data': 4},
                                            ]
                                        });
                                    }
                                });
                    }

                    function topGenre() {
                        $(".tabless").hide();
                        $("#topGenreTable").show();
                        $.ajax(
                                {
                                    url: "/topgenre",
                                    type: "GET",
                                    dataType: "json",
                                    success: function (topgenre) {
                                        console.log(topgenre);
                                        var table = $("#topGenre").dataTable({
                                            "bPaginate": false,
                                            retrieve: true,
                                            order: [],
                                            destroy: true,
                                            data: topgenre,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                            ],
                                        });


                                    }
                                });

                    }


                    function topProduction() {
                        $(".tabless").hide();
                        $("#topProductiontable").show();
                        $.ajax(
                                {
                                    url: "/topproduction",
                                    type: "GET",
                                    dataType: "json",
                                    success: function (topproduction) {
                                        console.log(topproduction);
                                        var productionTable = $("#topProduction").DataTable({
                                            retrieve: true,
                                            order: [],
                                            destroy: true,
                                            data: topproduction,
                                            "bPaginate": false,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                            ]

                                        });

                                        $('#topProductiontable tbody').on('click', 'tr', function () {
                                            var data = productionTable.row(this).data();
                                            //alert( 'You clicked on '+data[1]+'\'s row' );
                                            let productionname = data[1];
                                            //   alert(productionname);
                                            gettopproductionmovies(productionname);
                                        });
                                    }
                                });
                    }

                    function gettopproductionmovies(String) {
                        //alert(String);
                        $(".tabless").hide();
                        $("#topmoviesofproduction").show();

                        var myData = {
                            data: String,
                        }
                        $.ajax(
                                {
                                    url: "/topmoviesofproduction",
                                    type: "POST",
                                    contentType: "application/json",
                                    dataType: "json",
                                    data: JSON.stringify(myData),
                                    success: function (moviesname) {
                                        console.log(moviesname);
                                        var table = $("#topproductionmovietable").dataTable({
                                            "bPaginate": false,
                                            // retrieve: true,
                                            order: [],
                                            destroy: true,
                                            data: moviesname,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                            ],
                                        });

                                        $("#topmovies").html("Top Movies of " + String);

                                    }
                                });

                    }


                    function chart1() {
                        $(".tabless").hide();
                        $("#chart1").show();
                        var myChart = Highcharts.chart('genrechart', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: 'Top Genres'
                            },
                            xAxis: {
                                text: 'Total Earning'
                            },
                            yAxis: {
                                text: 'Total Earning'
                            },
                            series: [{
                                name: 'Action',
                                data: [1, 0, 4]
                            }, {
                                name: 'Comedy',
                                data: [5, 7, 3]
                            }]
                        });

                    }


                    function getProductionDetails() {
                        $(".tabless").hide();
                        $("#topProductiontable").show();
                        $.ajax(
                                {
                                    url: "/topproduction",
                                    type: "GET",
                                    dataType: "json",
                                    success: function (topproduction) {
                                        console.log(topproduction);
                                        $("#topProduction").dataTable({
                                            retrieve: true,
                                            order: [],
                                            destroy: true,
                                            data: topproduction,
                                            "bPaginate": false,
                                            columns: [
                                                {'data': 1},
                                                {'data': 2},
                                                {'data': 3},
                                            ]

                                        });
                                    }
                                });
                    }

                    function getHtml(url) {
                        $.ajax(
                                {
                                    url: url,
                                    type: "GET",
                                    dataType: "html",
                                    success: function (content) {
                                        $(".tabless").hide();
                                        $("#myhtml").show();
                                        $("#myhtml").html(content);

                                    }
                                });
                    }







            </script>
    </body>

</html>